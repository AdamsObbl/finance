const db=require("./db"),config=require("../config");async function get(){return await db.query("SELECT id, name, date_create, status, date_change, date_delete\n        FROM finance_users")||[]}async function add({name:e}){const[n]=await db.query(`INSERT INTO finance_users (name, status, date_create, date_change, date_delete)\n    VALUES ('${e}', '0', now(), now(), '0000-00-00 00:00:00')\n    RETURNING id;`);return n.id}async function change({id:e,status:n,name:a}){return await db.query(`UPDATE finance_users SET\n  ${a?`name='${a}',`:""}\n  status = '${n||0}',\n  date_delete = ${1===n?"now()":"'0000-00-00 00:00:00',"}\n  ${1===n?"":"date_change = now()"}\n  WHERE id = '${e}';`)}module.exports={get:get,add:add,change:change};