const express=require("express"),router=express.Router();let dbService;router.use(((e,r,t)=>{dbService=require(`../services${e.baseUrl}`),t()})),router.get("/",(async function(e,r,t){try{r.json(await dbService.get(e.query.page))}catch(e){t(e)}})),router.post("/",(async function(e,r,t){try{r.json(await dbService.add(e.body))}catch(e){t(e)}})),router.put("/",(async function(e,r,t){try{r.json(await dbService.change(e.body))}catch(e){t(e)}})),module.exports=router;